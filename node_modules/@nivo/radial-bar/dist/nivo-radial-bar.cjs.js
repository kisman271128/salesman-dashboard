"use strict";var e=require("@nivo/tooltip"),r=require("react/jsx-runtime"),a=require("react"),n=require("@nivo/core"),i=require("@nivo/arcs"),o=require("@nivo/legends"),t=require("@nivo/polar-axes"),l=require("d3-scale"),s=require("d3-shape"),d=require("@nivo/colors"),u=require("@nivo/scales");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},c.apply(null,arguments)}function g(e,r){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;a[n]=e[n]}return a}var v={maxValue:"auto",layers:["grid","tracks","bars","labels","legends"],startAngle:0,endAngle:270,innerRadius:.3,padding:.2,padAngle:0,cornerRadius:0,enableTracks:!0,tracksColor:"rgba(0, 0, 0, .15)",enableRadialGrid:!0,enableCircularGrid:!0,radialAxisStart:{},radialAxisEnd:null,circularAxisInner:null,circularAxisOuter:{},colors:{scheme:"nivo"},borderWidth:0,borderColor:{from:"color",modifiers:[["darker",1]]},enableLabels:!1,label:"formattedValue",labelsSkipAngle:10,labelsSkipRadius:0,labelsRadiusOffset:.5,labelsTextColor:{theme:"labels.text.fill"},isInteractive:!0,tooltip:function(a){var n=a.bar;return r.jsx(e.BasicTooltip,{enableChip:!0,id:r.jsxs("span",{children:[n.category," - ",n.groupId]}),value:n.formattedValue,color:n.color})},legends:[],defs:[],fill:[],animate:!0,motionConfig:"gentle",transitionMode:"centerRadius",renderWrapper:!0},f=c({},v),b=function(e){var r=e.data,i=e.maxValue,o=void 0===i?f.maxValue:i,t=e.valueFormat,c=e.startAngle,g=void 0===c?v.startAngle:c,b=e.endAngle,p=void 0===b?v.endAngle:b,h=e.innerRadiusRatio,m=void 0===h?v.innerRadius:h,x=e.padding,R=void 0===x?v.padding:x,A=e.padAngle,M=void 0===A?v.padAngle:A,k=e.cornerRadius,C=void 0===k?v.cornerRadius:k,y=e.width,j=e.height,S=e.colors,L=void 0===S?v.colors:S,W=e.tracksColor,G=void 0===W?v.tracksColor:W,I=a.useMemo((function(){return[y/2,j/2]}),[y,j]),T=Math.min.apply(Math,I),w=T*Math.min(m,1),E=d.useOrdinalColorScale(L,"category"),V=a.useMemo((function(){var e={serieIds:[],categories:[],groups:[],maxValue:0};return r.forEach((function(r){e.serieIds.push(r.id);var a=0;r.data.forEach((function(r){e.categories.includes(r.x)||e.categories.push(r.x),a+=r.y})),e.groups.push({id:r.id,total:a,data:r.data})})),e.maxValue="auto"===o?Math.max.apply(Math,e.groups.map((function(e){return e.total}))):o,e}),[r,o]),O=V.serieIds,q=V.categories,B=V.groups,P=V.maxValue,D=a.useMemo((function(){return u.castLinearScale(l.scaleLinear().domain([0,P]).range([g,p]))}),[P,g,p]),F=a.useMemo((function(){return u.castBandScale(l.scaleBand().domain(O).range([w,T]).padding(R))}),[O,T,w,R]),z=a.useMemo((function(){return s.arc().startAngle((function(e){return e.startAngle})).endAngle((function(e){return e.endAngle})).innerRadius((function(e){return e.innerRadius})).outerRadius((function(e){return e.outerRadius})).cornerRadius(C).padAngle(n.degreesToRadians(M))}),[C,M]),H=n.useValueFormatter(t),K=a.useMemo((function(){var e=[];return B.forEach((function(r){var a=0,i=F(r.id),o=i+F.bandwidth();r.data.forEach((function(t){var l=a+t.y,s={id:r.id+"."+t.x,data:t,groupId:r.id,category:t.x,value:t.y,formattedValue:H(t.y),color:"",stackedValue:l,arc:{startAngle:n.degreesToRadians(D(a)),endAngle:n.degreesToRadians(D(l)),innerRadius:i,outerRadius:o}};s.color=E(s),a+=t.y,e.push(s)}))})),e}),[B,F,D,E,H]),J=n.degreesToRadians(g),N=n.degreesToRadians(p),Q=a.useMemo((function(){return u.getScaleTicks(F).map((function(e){var r=F(e);return{id:e,color:G,arc:{startAngle:J,endAngle:N,innerRadius:r,outerRadius:r+F.bandwidth()}}}))}),[F,J,N,G]),U=a.useMemo((function(){return q.map((function(e){var r=K.find((function(r){return r.category===e})),a=r?r.color:void 0;return{id:e,label:e,color:a}}))}),[q,K]),X=a.useMemo((function(){return{center:I,outerRadius:T,innerRadius:w,bars:K,arcGenerator:z,radiusScale:F,valueScale:D}}),[I,T,w,K,z,F,D]);return{center:I,outerRadius:T,innerRadius:w,bars:K,arcGenerator:z,radiusScale:F,valueScale:D,tracks:Q,legendData:U,customLayerProps:X}},p=function(n){var o=n.center,t=n.bars,l=n.borderWidth,s=n.borderColor,d=n.arcGenerator,u=n.isInteractive,c=n.tooltip,g=n.onClick,v=n.onMouseEnter,f=n.onMouseMove,b=n.onMouseLeave,p=n.transitionMode,h=e.useTooltip(),m=h.showTooltipFromEvent,x=h.hideTooltip,R=a.useCallback((function(e,r){null==g||g(e,r)}),[g]),A=a.useCallback((function(e,r){m(a.createElement(c,{bar:e}),r),null==v||v(e,r)}),[m,c,v]),M=a.useCallback((function(e,r){m(a.createElement(c,{bar:e}),r),null==f||f(e,r)}),[m,c,f]),k=a.useCallback((function(e,r){x(),null==b||b(e,r)}),[x,b]);return r.jsx(i.ArcsLayer,{center:o,data:t,arcGenerator:d,borderWidth:l,borderColor:s,transitionMode:p,onClick:u?R:void 0,onMouseEnter:u?A:void 0,onMouseMove:u?M:void 0,onMouseLeave:u?k:void 0})},h=function(e){var a=e.center,n=e.tracks,o=e.arcGenerator,t=e.transitionMode;return r.jsx(i.ArcsLayer,{center:a,data:n,arcGenerator:o,borderWidth:0,borderColor:"none",transitionMode:t})},m=["isInteractive","animate","motionConfig","theme","renderWrapper"],x=function(e){var l=e.data,s=e.maxValue,d=void 0===s?f.maxValue:s,u=e.valueFormat,g=e.startAngle,v=void 0===g?f.startAngle:g,m=e.endAngle,x=void 0===m?f.endAngle:m,R=e.innerRadius,A=void 0===R?f.innerRadius:R,M=e.padding,k=void 0===M?f.padding:M,C=e.padAngle,y=void 0===C?f.padAngle:C,j=e.cornerRadius,S=void 0===j?f.cornerRadius:j,L=e.width,W=e.height,G=e.margin,I=e.layers,T=void 0===I?f.layers:I,w=e.enableTracks,E=void 0===w?f.enableTracks:w,V=e.tracksColor,O=void 0===V?f.tracksColor:V,q=e.enableRadialGrid,B=void 0===q?f.enableRadialGrid:q,P=e.enableCircularGrid,D=void 0===P?f.enableCircularGrid:P,F=e.radialAxisStart,z=void 0===F?f.radialAxisStart:F,H=e.radialAxisEnd,K=void 0===H?f.radialAxisEnd:H,J=e.circularAxisInner,N=void 0===J?f.circularAxisInner:J,Q=e.circularAxisOuter,U=void 0===Q?f.circularAxisOuter:Q,X=e.colors,Y=void 0===X?f.colors:X,Z=e.defs,$=void 0===Z?f.defs:Z,_=e.fill,ee=void 0===_?f.fill:_,re=e.borderWidth,ae=void 0===re?f.borderWidth:re,ne=e.borderColor,ie=void 0===ne?f.borderColor:ne,oe=e.enableLabels,te=void 0===oe?f.enableLabels:oe,le=e.label,se=void 0===le?f.label:le,de=e.labelsSkipAngle,ue=void 0===de?f.labelsSkipAngle:de,ce=e.labelsSkipRadius,ge=void 0===ce?f.labelsSkipRadius:ce,ve=e.labelsRadiusOffset,fe=void 0===ve?f.labelsRadiusOffset:ve,be=e.labelsTextColor,pe=void 0===be?f.labelsTextColor:be,he=e.isInteractive,me=void 0===he?f.isInteractive:he,xe=e.tooltip,Re=void 0===xe?f.tooltip:xe,Ae=e.onClick,Me=e.onMouseEnter,ke=e.onMouseMove,Ce=e.onMouseLeave,ye=e.transitionMode,je=void 0===ye?f.transitionMode:ye,Se=e.legends,Le=void 0===Se?f.legends:Se,We=e.role,Ge=e.ariaLabel,Ie=e.ariaLabelledBy,Te=e.ariaDescribedBy,we=e.forwardedRef,Ee=n.useDimensions(L,W,G),Ve=Ee.margin,Oe=Ee.innerWidth,qe=Ee.innerHeight,Be=Ee.outerWidth,Pe=Ee.outerHeight,De=n.clampArc(v,x),Fe=De[0],ze=De[1],He=b({data:l,maxValue:d,valueFormat:u,startAngle:Fe,endAngle:ze,innerRadiusRatio:A,padding:k,padAngle:y,cornerRadius:S,width:Oe,height:qe,colors:Y,tracksColor:O}),Ke=He.center,Je=He.innerRadius,Ne=He.outerRadius,Qe=He.bars,Ue=He.arcGenerator,Xe=He.radiusScale,Ye=He.valueScale,Ze=He.tracks,$e=He.legendData,_e=He.customLayerProps,er={grid:null,tracks:null,bars:null,labels:null,legends:null};T.includes("grid")&&(er.grid=r.jsxs(a.Fragment,{children:[r.jsx(t.PolarGrid,{center:Ke,enableRadialGrid:B,enableCircularGrid:D,angleScale:Ye,radiusScale:Xe,startAngle:Fe,endAngle:ze}),z&&r.jsx(t.RadialAxis,c({center:Ke,angle:Math.min(Fe,ze),scale:Xe,ticksPosition:"before"},z)),K&&r.jsx(t.RadialAxis,c({center:Ke,angle:Math.max(Fe,ze),scale:Xe,ticksPosition:"after"},K)),N&&r.jsx(t.CircularAxis,c({type:"inner",center:Ke,radius:Je,startAngle:Fe,endAngle:ze,scale:Ye},N)),U&&r.jsx(t.CircularAxis,c({type:"outer",center:Ke,radius:Ne,startAngle:Fe,endAngle:ze,scale:Ye},U))]},"grid")),T.includes("tracks")&&E&&(er.tracks=r.jsx(h,{center:Ke,tracks:Ze,arcGenerator:Ue,transitionMode:je},"tracks")),T.includes("bars")&&(er.bars=r.jsx(p,{center:Ke,bars:Qe,borderWidth:ae,borderColor:ie,arcGenerator:Ue,isInteractive:me,tooltip:Re,onClick:Ae,onMouseEnter:Me,onMouseMove:ke,onMouseLeave:Ce,transitionMode:je},"bars")),T.includes("labels")&&te&&(er.labels=r.jsx(i.ArcLabelsLayer,{center:Ke,data:Qe,label:se,radiusOffset:fe,skipAngle:ue,skipRadius:ge,textColor:pe,transitionMode:je},"labels")),T.includes("legends")&&Le.length>0&&(er.legends=r.jsx(a.Fragment,{children:Le.map((function(e,a){return r.jsx(o.BoxLegendSvg,c({},e,{containerWidth:Oe,containerHeight:qe,data:$e}),a)}))},"legends"));var rr=n.bindDefs($,Qe,ee,{dataKey:"data",targetKey:"fill"});return r.jsx(n.SvgWrapper,{width:Be,height:Pe,margin:Ve,defs:rr,role:We,ariaLabel:Ge,ariaLabelledBy:Ie,ariaDescribedBy:Te,ref:we,children:T.map((function(e,n){var i;return"function"==typeof e?r.jsx(a.Fragment,{children:a.createElement(e,_e)},n):null!=(i=null==er?void 0:er[e])?i:null}))})},R=a.forwardRef((function(e,a){var i=e.isInteractive,o=void 0===i?f.isInteractive:i,t=e.animate,l=void 0===t?f.animate:t,s=e.motionConfig,d=void 0===s?f.motionConfig:s,u=e.theme,v=e.renderWrapper,b=g(e,m);return r.jsx(n.Container,{animate:l,isInteractive:o,motionConfig:d,renderWrapper:v,theme:u,children:r.jsx(x,c({isInteractive:o},b,{forwardedRef:a}))})})),A=["defaultWidth","defaultHeight","onResize","debounceResize"],M=a.forwardRef((function(e,a){var i=e.defaultWidth,o=e.defaultHeight,t=e.onResize,l=e.debounceResize,s=g(e,A);return r.jsx(n.ResponsiveWrapper,{defaultWidth:i,defaultHeight:o,onResize:t,debounceResize:l,children:function(e){var n=e.width,i=e.height;return r.jsx(R,c({width:n,height:i},s,{ref:a}))}})}));exports.RadialBar=R,exports.ResponsiveRadialBar=M,exports.commonDefaultProps=v,exports.svgDefaultProps=f;
//# sourceMappingURL=nivo-radial-bar.cjs.js.map
