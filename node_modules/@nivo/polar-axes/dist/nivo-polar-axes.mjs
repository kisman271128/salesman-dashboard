import{useMemo as n,createElement as t}from"react";import{animated as e,useSpring as i,useTransition as r,to as a}from"@react-spring/web";import{useMotionConfig as o,positionFromAngle as c,degreesToRadians as l,normalizeAngleDegrees as u}from"@nivo/core";import{useTheme as d,useExtendedAxisTheme as s}from"@nivo/theming";import{getScaleTicks as f,centerScale as g}from"@nivo/scales";import{ArcLine as y}from"@nivo/arcs";import{Text as m}from"@nivo/text";import{jsxs as p,jsx as h,Fragment as x}from"react/jsx-runtime";function v(){return v=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},v.apply(null,arguments)}var k=function(n){var t=n.label,i=n.theme,r=n.animated;return p(e.g,{opacity:r.opacity,children:[h(e.line,{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,style:i.ticks.line}),h(m,{dx:r.textX,dy:r.textY,dominantBaseline:"central",style:i.ticks.text,textAnchor:"middle",children:t})]})},A=function(n,t,e){var i=c(l(n),t),r=c(l(n),e);return{x1:i.x,y1:i.y,x2:r.x,y2:r.y}},b=function(n,t){var e=c(l(n),t);return{textX:e.x,textY:e.y}},X=function(e){var a=e.type,c=e.center,l=void 0===c?[0,0]:c,u=e.radius,m=e.startAngle,x=e.endAngle,X=e.scale,w=e.tickSize,R=void 0===w?5:w,M=e.tickPadding,O=void 0===M?12:M,P=e.tickComponent,S=void 0===P?k:P,j=e.style,C=m-90,G=x-90,z=o(),B=z.animate,E=z.config,Y=i({radius:u,startAngle:C,endAngle:G,opacity:1,immediate:!B,config:E}),T=n((function(){var n=f(X),t="bandwidth"in X?g(X):X;return n.map((function(n,e){return{key:e,label:n,angle:t(n)-90}}))}),[X]),q="inner"===a?u-R:u+R,D="inner"===a?q-O:q+O,F=r(T,{keys:function(n){return n.key},initial:function(n){return v({},A(n.angle,u,q),b(n.angle,D),{opacity:1})},from:function(n){return v({},A(n.angle,u,q),b(n.angle,D),{opacity:0})},enter:function(n){return v({},A(n.angle,u,q),b(n.angle,D),{opacity:1})},update:function(n){return v({},A(n.angle,u,q),b(n.angle,D),{opacity:1})},leave:function(n){return v({},A(n.angle,u,q),b(n.angle,D),{opacity:0})},immediate:!B,config:E}),H=d(),I=s(H.axis,j);return p("g",{transform:"translate("+l[0]+", "+l[1]+")",style:{pointerEvents:"none"},children:[h(y,v({animated:Y},I.domain.line,{fill:"none"})),F((function(n,e){return t(S,{key:e.key,label:e.label,theme:I,animated:n})}))]})},w=function(t){var i=t.scale,a=t.innerRadius,c=t.outerRadius,l=d(),u=n((function(){return f(i).map((function(n,t){return{id:t,angle:i(n)-90}}))}),[i]),s=o(),g=s.animate,y=s.config,m=r(u,{keys:function(n){return n.id},initial:function(n){return{angle:n.angle,opacity:1}},from:function(n){return{angle:n.angle,opacity:0}},enter:function(n){return{angle:n.angle,opacity:1}},update:function(n){return{angle:n.angle,opacity:1}},leave:function(n){return{angle:n.angle,opacity:0}},config:y,immediate:!g});return h(x,{children:m((function(n,t){return h(e.g,{transform:n.angle.to((function(n){return"rotate("+n+")"})),opacity:n.opacity,children:h("line",v({x1:a,x2:c},l.grid.line))},t.id)}))})},R=function(t){var e=t.scale,i=t.ticks,a=t.startAngle,c=t.endAngle,l=d(),u=a-90,s=c-90,g=n((function(){return f(e,i).map((function(n,t){var i=e(n);return"bandwidth"in e&&(i+=e.bandwidth()/2),{id:t,radius:i}}))}),[e,i]),m=o(),p=m.animate,k=m.config,A=r(g,{keys:function(n){return n.id},initial:function(n){return{radius:n.radius,startAngle:u,endAngle:s,opacity:1}},from:function(n){return{radius:n.radius,startAngle:u,endAngle:s,opacity:0}},enter:function(n){return{radius:n.radius,startAngle:u,endAngle:s,opacity:1}},update:function(n){return{radius:n.radius,startAngle:u,endAngle:s,opacity:1}},leave:function(n){return{radius:n.radius,startAngle:u,endAngle:s,opacity:0}},config:k,immediate:!p});return h(x,{children:A((function(n,t){return h(y,v({animated:n},l.grid.line,{strokeOpacity:n.opacity,fill:"none"}),t.id)}))})},M=function(n){var t=n.center,e=n.enableRadialGrid,i=n.angleScale,r=n.startAngle,a=n.endAngle,o=n.enableCircularGrid,c=n.radiusScale,l=n.circularGridTicks,u=Math.min.apply(Math,c.range()),d=Math.max.apply(Math,c.range());return p("g",{transform:"translate("+t[0]+","+t[1]+")",children:[e&&h(w,{scale:i,innerRadius:u,outerRadius:d}),o&&h(R,{scale:c,ticks:l,startAngle:r,endAngle:a})]})},O=function(n){var t=n.label,i=n.textAnchor,r=n.theme,o=n.animated;return p(e.g,{opacity:o.opacity,transform:a([o.y,o.rotation],(function(n,t){return"translate("+n+", 0) rotate("+t+")"})),children:[h(e.line,{x2:o.length,style:r.ticks.line}),h(m,{dx:o.textX,textAnchor:i,dominantBaseline:"central",style:r.ticks.text,children:t})]})},P=function(a){var c,l,g,y,m=a.ticksPosition,p=a.center,x=a.angle,v=a.scale,k=a.ticks,A=a.tickSize,b=void 0===A?5:A,X=a.tickPadding,w=void 0===X?5:X,R=a.tickRotation,M=void 0===R?0:R,P=a.tickComponent,S=void 0===P?O:P,j=a.style,C=u(x);"before"===m?(y=90+M,C<=90?(g=(l=-b)-w,c="end"):C<270?(g=(l=b)+w,c="start",y-=180):(g=(l=-b)-w,c="end")):(y=90+M,C<90?(g=(l=b)+w,c="start"):C<270?(g=(l=-b)-w,c="end",y-=180):(g=(l=b)+w,c="start"));var G=n((function(){return f(v,k).map((function(n,t){var e=v(n);return"bandwidth"in v&&(e+=v.bandwidth()/2),{key:t,label:n,position:e}}))}),[v,k]),z=o(),B=z.animate,E=z.config,Y=i({rotation:x-90,immediate:!B,config:E}),T=r(G,{keys:function(n){return n.key},initial:function(n){return{y:n.position,textX:g,rotation:y,length:l,opacity:1}},from:function(n){return{y:n.position,textX:g,rotation:y,length:l,opacity:0}},enter:function(n){return{y:n.position,textX:g,rotation:y,length:l,opacity:1}},update:function(n){return{y:n.position,textX:g,rotation:y,length:l,opacity:1}},leave:function(n){return{y:n.position,textX:g,rotation:y,length:l,opacity:0}},immediate:!B,config:E}),q=d(),D=s(q.axis,j);return h("g",{transform:"translate("+p[0]+", "+p[1]+")",style:{pointerEvents:"none"},children:h(e.g,{transform:Y.rotation.to((function(n){return"rotate("+n+")"})),children:T((function(n,e){return t(S,{key:e.key,label:e.label,y:e.position,textX:g,rotation:y,length:l,textAnchor:c,theme:D,animated:n})}))})})};export{X as CircularAxis,M as PolarGrid,P as RadialAxis};
//# sourceMappingURL=nivo-polar-axes.mjs.map
